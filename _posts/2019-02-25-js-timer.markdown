---
layout:     post
title:      "js timer"
subtitle:   ""
date:       2019-02-25 15:00:00
author:     "Polo"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
    - ç¨‹åº
    - js
    - web
---

> js

## js & è®¡æ—¶å™¨ (timer)  
timerï¼Œjsåˆå­¦è€…å¿…å¤‡æŠ€èƒ½ã€‚

## æ­£é¢˜  
jsçš„timeråº”ç”¨å¹¿èŒƒ ä¸€èˆ¬ç”¨äº  
1. *ç”¨æˆ·æ³¨å†Œå‘é€æ‰‹æœºéªŒè¯ç xxç§’åé‡å‘*
1. *ç³»ç»Ÿå°†äºxxç§’åçˆ†ç‚¸*
1. *å°†åœ¨xxç§’åè¿”å›ä¸Šä¸€é¡µ*
1. *ç­‰ç­‰...ç­‰*

## ä¸¾ä¸ª ğŸŒ° (1)  
![æ¼”ç¤ºå›¾](/img/in-post/20190225/js-timer-1.jpg)
åº”ç”¨`setInterval`æ–¹æ³•  
```
<!-- 
	author: Polo
	data: 2019-02-25
	title: js timer
 -->
<!DOCTYPE html>
<html>
<head>
	<meta name="description" content="polo hab | js timer">
	<meta name="keywords" content="polohab, polo hab, polo-huang, polo_huang, polo, huang, js, timer">
	<title>Js timer</title>
</head>
<style type="text/css">
	.hide {
		display: none;
	}
</style>
<body>
	<div style="margin: 50px 15%; text-align: center;">
		<p style="text-align: center;">è¾“å…¥æ‰‹æœº</p>
		<input type="text" name="phone">
		<button id="send-code-btn" data-disabled="false">
			<span class="label">å‘é€éªŒè¯ç </span>
			<span class="timer hide"></span>
		</button>
	</div>
</body>
<script src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
<script type="text/javascript">
	const duration = 60;

	let sendCodeBtn = $('#send-code-btn');
	let btnTimer = duration;
	function activeBtn(btn) {
		btn.attr('disabled', false);
		btn.find('.label').removeClass('hide');
		btn.find('.timer').addClass('hide');
		btnTimer = duration;
	}
	sendCodeBtn.click(function() {
		$(this).attr('disabled', true);
		$(this).find('.label').addClass('hide');
		$(this).find('.timer').removeClass('hide');
		sendCodeBtn.find('.timer').text(btnTimer);

		let timer = setInterval(()=>{
			console.log(btnTimer);
			btnTimer--;
			sendCodeBtn.find('.timer').text(btnTimer);
			if (btnTimer == 0) {
				clearInterval(timer);
				activeBtn(sendCodeBtn);
			}
	  }, 1000);
	});
</script>
</html>
```

## å†ä¸¾ä¸ª ğŸŒ° (2)
ğŸ™„ğŸ™„ï¸ `setTimeout`
![æ¼”ç¤ºå›¾](/img/in-post/20190225/js-timer-2.jpg)
```
<!-- 
	author: Polo
	data: 2019-02-25
	title: js timer
 -->
<!DOCTYPE html>
<html>
<head>
	<meta name="description" content="polo hab | js timer">
	<meta name="keywords" content="polohab, polo hab, polo-huang, polo_huang, polo, huang, js, timer">
	<title>Js timer</title>
</head>
<style type="text/css">
	.hide {
		display: none;
	}
</style>
<body>
	<div style="margin: 50px 15%; text-align: center;">
		<p style="text-align: center;">ä¸‰ç§’ååŸåœ°çˆ†ç‚¸ï¼Ÿ</p>
	</div>
</body>
<script src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
<script type="text/javascript">
	const duration = 3000;

	$(document).ready(function() {
		setTimeout("alert('Bang!!')", duration);
	});
</script>
</html>
```